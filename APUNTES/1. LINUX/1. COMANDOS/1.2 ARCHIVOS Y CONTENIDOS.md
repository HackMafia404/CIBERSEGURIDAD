__________
tags: #linux #comandos #archivos #contenidos #visualizacion #ficheros
_____________________________

1. **Creacion de ficheros** 

>touch → Crea ficheros vacíos
>echo → Crea ficheros con texto
>nano → Crea desde el editor nativo de linux

```bash
> touch file.txt
> ls
file.txt 
> echo "hola" > file2.txt
> ls
file2.txt  file.txt
```

2. **Visualización de ficheros**

>cat → Muestra el contenido
>less → Muestra el contenido de forma paginada
>head → Muestra las primeras lineas de un archivo
>tail → Muestra las ultimas lineas de un archivo
>strings → Muestra el contenido legible
>xxd → Muestra en formato hexadecimal
>wc → Contar lineas, palabras y caracteres

```bash
 > cat consolas.txt | head -n 5
- CONSOLAS BASH Y ZSH
 - BASH (Bourne Again SHell) es una de las shells más populares y ampliamente utilizadas en sistemas Unix-like. 
> cat consolas.txt | wc -l 
76
> cat consolas.txt | xxd 
00000000: 0a0a 2d20 434f 4e53 4f4c 4153 2042 4153  ..- CONSOLAS BAS
00000010: 4820 5920 5a53 480a 0a20 2d20 4241 5348  H Y ZSH.. - BASH
00000020: 2028 426f 7572 6e65 2041 6761 696e 2053   (Bourne Again S
00000030: 4865 6c6c 2920 6573 2075 6e61 2064 6520  Hell) es una de 
00000040: 6c61 7320 7368 656c 6c73 206d c3a1 7320  las shells m..s 
00000050: 706f 7075 6c61 7265 7320 7920 616d 706c  populares y ampl
00000060: 6961 6d65 6e74 6520 7574 696c 697a 6164  iamente utilizad
00000070: 6173 2065 6e20 7369 7374 656d 6173 2055  as en sistemas U
00000080: 6e69 782d 6c69 6b65 2e20 0a20 202d 4675  nix-like. .  -Fu
00000090: 6520 6465 7361 7272 6f6c 6c61 6461 2063  e desarrollada c
```

3. **Filtrado de contenido** 

- **sed** → Sirve para buscar, Remplazar, Transformar o Eliminar texto

>sed s/patrón/reemplazo/ → sustituye la primera coincidencia en cada línea
>sed s/patrón/reemplazo/g → sustituye todas las coincidencias    
>sed s/patrón/reemplazo/i → insensible a mayúsculas   
>sed -n '/regex/p' → imprime solo las líneas que coincidan
>sed /regex/d → borra líneas que coincidan
>sed N,Mp → imprime un rango de líneas
>sed y/a-z/A-Z/ → transliteración (minúsculas a mayúsculas)

```bash
> sed 's/error/ERROR/g' log.txt       # reemplazar “error” por “ERROR”
> sed -n '1,5p' archivo.txt           # mostrar solo las líneas 1 a 5
> sed '/^#/d' config.cfg              # eliminar líneas que empiecen con #
> sed 'y/áéíóú/aeiou/' archivo.txt    # eliminar tildes
```

- **grep** → Herramienta mas usada para filtrar lineas basadas en expresiones regulares 

 >grep -i → ignorar mayúsculas/minúsculas
 >grep -E → regex extendidas (más potentes)
 >grep -r→ búsqueda recursiva en directorios
 >grep -A N → mostrar N líneas después de la coincidencia
 >grep -B N → mostrar N líneas antes
 >grep -C N → mostrar contexto (antes y después)
 >grep -n→ mostrar número de línea
 >grep-o→ mostrar solo la coincidencia, no la línea entera
 >grep -v → invertir la búsqueda (mostrar lo que no coincide)
 >grep -c→ contar coincidencias
 >grep --color=auto → resaltar coincidencias
 
 ```bash
> grep "sshd" /var/log/auth.log         # buscar "sshd"
> grep -i "error" log.txt               # sin distinguir mayúsculas
> grep -E "http|https" urls.txt         # regex extendida (http o https)
> grep -A 2 "login" log.txt             # mostrar 2 líneas después de "login"
> grep -n "root" /etc/passwd            # mostrar número de línea
> grep -v "^#" config.cfg               # excluir comentarios
> grep --color=auto "fi" htbmachines.sh # resalta coincidencias
 ```

- **awk** → Procesador de texto por columnas

>$0 → línea completa
>$1, $2, $NF → primer campo, segundo, último campo
>-F DELIM → usar un delimitador
>NR → número de línea actual
>NF → número de campos en la línea
>OFS → delimitador de salida (ej: espacio, coma, tab)
>BEGIN {} → ejecutar antes de procesar líneas
>END {} → ejecutar después

```bash
> awk '{print $1}' archivo.txt               # mostrar primera columna
> awk -F: '{print $1, $3}' /etc/passwd       # usuario y UID
> awk '$3 > 1000 {print $1, $3}' /etc/passwd # usuarios con UID > 1000
> awk 'NR==1 {print $0}' archivo.txt         # primera línea
> awk '{print NF, $0}' archivo.txt           # número de campos por línea
```

- **tr** → Remplaza, elimina o comprime caracteres.

>tr 'a-z' 'A-Z' → convertir minúsculas a mayúsculas
>tr -d → eliminar caracteres
>tr -s → comprimir repeticiones de un carácter

```bash 
> tr 'a-z' 'A-Z' < archivo.txt         # minusculas a mayúsculas
> tr -d '"' < archivo.txt              # eliminar comillas
> tr -s ' ' < archivo.txt              # reducir espacios dobles
> cat archivo.txt | tr ':' '\n'        # convertir ":" en saltos de línea
```

-  **sort** → Ordena texto alfabéticamente o numéricamente.

>sort -r → orden inverso
>sort -u → eliminar duplicados
>sort -n → orden numérico
>sort -k N → ordenar por la columna N
>sort -t DELIM → cambiar delimitador

```bash
> sort archivo.txt                      # orden alfabético
> sort -r archivo.txt                   # orden inverso
> sort -u archivo.txt                   # eliminar duplicados
> sort -n -k 2 archivo.txt              # ordenar por columna 2 numérica
> sort -t: -k 3 -n /etc/passwd          # ordenar usuarios por UID
```

