# Permisos y Usuarios
 ___
 tags: #linux #comandos #permisos #usuarios 
___

### **chmod** → Cambiar permisos de un fichero; Controla los permisos de lectura (r), escritura (w), ejecución (x)

>- chmod 644 archivo → Dueño rw-, grupo r--, otros r--
>- chmod 755 script.sh → Dueño rwx, grupo r-x, otros r-x
>- chmod u+x archivo → Añade ejecución al dueño
>- chmod go-r archivo → Quita lectura a grupo y otros
>- chmod a+w archivo → Todos pueden escribir

```bash
> chmod 600 clave.txt       # solo dueño puede leer/escribir
> chmod 700 script.sh       # dueño puede todo, nadie más
> chmod u+x install.sh      # añadir permiso de ejecución al dueño
```

### **chown** → Cambiar usuario o grupo de un fichero

>- chown usuario:grupo → Define dueño y grupo
>- chown :grupo → Solo cambia grupo
>- chown -R → Recursivo (subdirectorios y archivos)

```bash
> chown root:root archivo.txt      # cambia dueño y grupo a root
> chown usuario archivo.txt        # cambia solo el dueño
> chown :staff archivo.txt         # cambia solo el grupo
> chown -R www-data /var/www       # todo el directorio a www-data
```

### **useradd** → Gestion de usuarios y grupos

>- useradd → Crear usuario
>- useradd -m → Crear directorio home
>- useradd -s SHELL → asignar shell
>- useradd -G grupo1,grupo2 → grupos secundarios
>- useradd -d → Especificar directorio home
>- passwd juan → Asignar contraseña

```bash
> useradd juan                    # Crea el usuario juan sin home ni contraseña
> useradd -m juan                 # Crea el usuario juan con carpeta home
> useradd -m -s /bin/bash juan    # Crea juan con carpeta home y shell Bash
> useradd -m -g developers juan   # Crea juan y lo asigna al grupo developers
> useradd -m -G sudo,devs juan    # Crea juan y lo agrega a sudo y devs
> useradd -m juan && passwd juan  # Crea juan y le asigna contraseña
> adduser juan                    # Forma interactiva (pregunta datos y contraseña)
```

### **usermod** → Modificar usuario

>- usermod -aG grupo → Añadir a grupo secundario
>- usermod -s SHELL → Cambiar shell
>- usermod -d HOME → Cambiar home
>- usermod -l NUEVO → Cambiar nombre
>- userdel juan → Elimina usuario
>- userdel -r juan → elimina usuario y su home

```bash
> usermod -aG sudo juan     # añadir a sudo
> usermod -s /bin/zsh juan  # cambiar shell
```